<!DOCTYPE html>
<html lang="en">
<meta charset="UTF-8">
<title>login</title>
<script type="text/javascript" src="js/jquery.min.js"></script>
<script type="text/javascript">
    function login() {
        $.ajax({
            type: "post",//请求方式
            url: "/user/login",  //发送请求地址
            timeout: 30000,//超时时间：30秒
            data: {
                "username": $('#username').val(),
                "password": $("#password").val(),
            },
            dataType: "json",//设置返回数据的格式
            success: function (result) {
                if (result.message == "success") {
//                    window.location.href = "index.html";
                    $("#result").text("登录成功");
                } else {
                    $("#result").text("用户名或者密码错误");
                }
            },
            error: function () { //请求出错的处理
                $("#result").text("请求出错");
            }
        });
    }

    function logout() {
        $.ajax({
            type: "post",//请求方式
            url: "/user/logout",  //发送请求地址
            timeout: 30000,//超时时间：30秒
            dataType: "json",//设置返回数据的格式
            success: function (result) {
                if (result.message == "success") {
//                    window.location.href = "index.html";
                    $("#result").text("注销成功");
                } else {
                    $("#result").text("注销失败");
                }
            },
            error: function () { //请求出错的处理
                $("#result").text("请求出错");
            }
        });
    }
</script>
</head>
<body>
<form id="form1" method="post">

    username : <input type="text" name="username" id="username"/><br>
    password : <input type="password" name="password" id="password">
    <p>
        <input type="button" id="submit" onclick="login()" value="login">
    </p>
</form>

<p>
    <input type="button" onclick="logout()" value="logout">
</p>

<div>
    <p id="result"></p>
</div>

</body>
</html>
